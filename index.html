<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>PDFビューア</title>

<meta name="viewport"
  content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<style>
body {
  margin: 0;
  font-family: sans-serif;
  background: #f0f0f0;
}

/* ===== ツールバー ===== */
#toolbar {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 72px;
  background: #222;
  color: #fff;
  display: flex;
  align-items: center;
  padding: 0 16px;
  z-index: 100;
}

.toolbar-left,
.toolbar-center,
.toolbar-right {
  display: flex;
  align-items: center;
  gap: 10px;
}

.toolbar-left,
.toolbar-right {
  flex: 1;
}

.toolbar-center {
  flex: 2;
  justify-content: center;
  font-size: 20px;
  font-weight: bold;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

#toolbar select,
#toolbar button {
  background: #444;
  color: #fff;
  border: none;
  padding: 8px 12px;
  font-size: 16px;
  border-radius: 6px;
  cursor: pointer;
}

#toolbar button:hover,
#toolbar select:hover {
  background: #666;
}

/* ===== 表示エリア ===== */
#viewer {
  position: absolute;
  top: 72px;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: auto;
  background: #999;
}

/* ズーム用iframe */
#pdfFrame {
  width: 100%;
  height: 100%;
  border: none;
  transform-origin: top left;
}
</style>
</head>

<body>

<div id="toolbar">
  <div class="toolbar-left">
    <select id="pdfSelect">
      <option value="">PDFを選択</option>
      <option value="京電16スタフ.pdf">京電16スタフ.pdf</option>
      <option value="京電26スタフ.pdf">京電26スタフ.pdf</option>
      <option value="再変115.pdf">再変115.pdf</option>
      <option value="大電5スタフ.pdf">大電5スタフ.pdf</option>
      <option value="変42スタフ.pdf">変42スタフ.pdf</option>
      <option value="変BT34スタフ.pdf">変BT34スタフ.pdf</option>
      <option value="臨4101スタフ.pdf">臨4101スタフ.pdf</option>
      <option value="臨4304スタフ.pdf">臨4304スタフ.pdf</option>
      <option value="臨4602スタフ.pdf">臨4602スタフ.pdf</option>
      <option value="臨5104スタフ.pdf">臨5104スタフ.pdf</option>
      <option value="臨5751スタフ.pdf">臨5751スタフ.pdf</option>
      <option value="臨6017スタフ.pdf">臨6017スタフ.pdf</option>
      <option value="臨6095スタフ.pdf">臨6095スタフ.pdf</option>
      <option value="臨6110スタフ.pdf">臨6110スタフ.pdf</option>
    </select>
  </div>

  <div class="toolbar-center">
    <span id="fileName">PDF未選択</span>
  </div>

  <div class="toolbar-right">
    <button id="zoomOut">−</button>
    <span id="zoomLevel">100%</span>
    <button id="zoomIn">＋</button>
    <button id="clearBtn">❌</button>
    <button id="downloadBtn">DL</button>
  </div>
</div>

<div id="viewer"></div>

<script>
let currentPdf = "";
let zoom = 100;

const viewer = document.getElementById("viewer");
const fileNameLabel = document.getElementById("fileName");
const zoomLevel = document.getElementById("zoomLevel");

document.getElementById("pdfSelect").onchange = function() {
  if (!this.value) return;
  currentPdf = this.value;
  zoom = 100;
  updateViewer();
};

function updateViewer() {
  fileNameLabel.textContent = currentPdf;
  zoomLevel.textContent = zoom + "%";

  viewer.innerHTML =
    `<iframe id="pdfFrame" src="${currentPdf}"></iframe>`;

  const frame = document.getElementById("pdfFrame");
  frame.style.transform = `scale(${zoom / 100})`;
}

document.getElementById("zoomIn").onclick = function() {
  if (!currentPdf) return;
  zoom += 10;
  updateViewer();
};

document.getElementById("zoomOut").onclick = function() {
  if (!currentPdf) return;
  if (zoom > 30) zoom -= 10;
  updateViewer();
};

document.getElementById("clearBtn").onclick = function() {
  viewer.innerHTML = "";
  fileNameLabel.textContent = "PDF未選択";
  currentPdf = "";
};

document.getElementById("downloadBtn").onclick = function() {
  if (!currentPdf) return;
  const a = document.createElement("a");
  a.href = currentPdf;
  a.download = currentPdf;
  a.click();
};
</script>

</body>
</html>
